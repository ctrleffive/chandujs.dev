{"componentChunkName":"component---src-templates-blog-js","path":"/blog/catch-exceptions-in-flutter-with-catcher-sentry-cpn/","result":{"data":{"devArticles":{"article":{"title":"üêû Catch Exceptions In Flutter With Catcher & Sentry","slug":"catch-exceptions-in-flutter-with-catcher-sentry-cpn","description":"Who doesn't hate unhandled exceptions in their applications?  In this post, I will show you how to ca...","tags":["flutter","exceptions","sentry","dart"],"readable_publish_date":"Dec 13 '19","body_html":"<p>Who doesn't hate unhandled exceptions in their applications?</p>\n\n<p>In this post, I will show you how to catch unhandled exceptions in a flutter application using a <a href=\"https://pub.dev/packages/catcher\">Catcher</a> plugin and <a href=\"http://sentry.io\">sentry.io</a></p>\n\n<h2>\n  <a name=\"create-a-new-project-in-sentry\" href=\"#create-a-new-project-in-sentry\" class=\"anchor\">\n  </a>\n  Create a new project in Sentry\n</h2>\n\n<p>Go to sentry.io and create a new project</p>\n\n<p><a href=\"https://res.cloudinary.com/practicaldev/image/fetch/s--usAs_RkI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/0e958rup11epvmmsusmv.png\" class=\"article-body-image-wrapper\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--usAs_RkI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/0e958rup11epvmmsusmv.png\" alt=\"Create New Project\" loading=\"lazy\"></a></p>\n\n<p>We can just use the DSN for our application.</p>\n\n<p><a href=\"https://res.cloudinary.com/practicaldev/image/fetch/s--b1g9Y1FG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/kzm8zh1w5sc3l3hwsfge.png\" class=\"article-body-image-wrapper\"><img src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--b1g9Y1FG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/kzm8zh1w5sc3l3hwsfge.png\" alt=\"Get DSN\" loading=\"lazy\"></a></p>\n\n<h2>\n  <a name=\"install-catcher\" href=\"#install-catcher\" class=\"anchor\">\n  </a>\n  Install Catcher\n</h2>\n\n<p>Open your app's <code>pubspec.yml</code> file and add <code>catcher</code> as a dependency.<br>\n</p>\n\n<div class=\"highlight\"><pre class=\"highlight yaml\"><code><span class=\"na\">dependencies</span><span class=\"pi\">:</span>\n  <span class=\"na\">catcher</span><span class=\"pi\">:</span> <span class=\"s\">^0.2.7</span>\n</code></pre></div>\n\n\n\n<blockquote>\n<p>NOTE: Catcher version mentioned in this post may not be the latest version.</p>\n</blockquote>\n\n<p>And in your <code>main.dart</code> file,</p>\n\n<p>Import the package,<br>\n</p>\n\n<div class=\"highlight\"><pre class=\"highlight dart\"><code><span class=\"kn\">import</span> <span class=\"s\">'package:catcher/catcher_plugin.dart'</span><span class=\"o\">;</span>\n</code></pre></div>\n\n\n\n<p>Replace<br>\n</p>\n\n<div class=\"highlight\"><pre class=\"highlight dart\"><code><span class=\"n\">runApp</span><span class=\"o\">(</span><span class=\"n\">App</span><span class=\"o\">());</span>\n</code></pre></div>\n\n\n\n<p>with<br>\n</p>\n\n<div class=\"highlight\"><pre class=\"highlight dart\"><code><span class=\"kt\">void</span> <span class=\"nf\">main</span><span class=\"p\">(</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n  <span class=\"c1\">/// checking if release mode or not</span>\n  <span class=\"c1\">/// no need of Catcher &amp; Sentry in debug mode.</span>\n  <span class=\"k\">if</span> <span class=\"o\">(</span><span class=\"n\">kReleaseMode</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"n\">Catcher</span><span class=\"o\">(</span>\n      <span class=\"n\">App</span><span class=\"o\">(),</span>\n      <span class=\"nl\">releaseConfig:</span> <span class=\"n\">CatcherOptions</span><span class=\"o\">(</span>\n        <span class=\"n\">SilentReportMode</span><span class=\"o\">(),</span>\n        <span class=\"o\">[</span><span class=\"n\">SentryHandler</span><span class=\"o\">(</span><span class=\"s\">'&lt;SENTRY_DSN_STRING&gt;'</span><span class=\"o\">)],</span>\n      <span class=\"o\">),</span>\n    <span class=\"o\">);</span>\n  <span class=\"o\">}</span> <span class=\"k\">else</span> <span class=\"o\">{</span>\n    <span class=\"n\">runApp</span><span class=\"o\">(</span><span class=\"n\">App</span><span class=\"o\">());</span>\n  <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n</code></pre></div>\n\n\n\n<p>Replace your sentry DSN with <code>&lt;SENTRY_DSN_STRING&gt;</code> in <code>SentryHandler</code></p>\n\n<p>In <code>CatcherOptions</code>, we have to provide a <code>ReportMode</code> as the first parameter and at least one <code>ReportHandler</code> as the second parameter. Here we are using <code>SilentReportMode()</code> as <code>ReportMode</code> and <code>SentryHandler()</code> as error handler.  </p>\n\n<p>What we are expecting here is, if there is any unhandled exception occurs, the app will send the error report to sentry silently. If you want to get user's confirmation to send an error report, you can use <code>DialogReportMode()</code> instead of <code>SilentReportMode()</code>.</p>\n\n<p>You can refer more in the plugin documentation <a href=\"https://pub.dev/packages/catcher\">here</a></p>\n\n<p>next, in <code>MaterialApp</code> widget add <code>Catcher.navigatorKey</code> as value of <code>navigatorKey</code> property<br>\n</p>\n\n<div class=\"highlight\"><pre class=\"highlight dart\"><code><span class=\"kd\">class</span> <span class=\"nc\">App</span> <span class=\"kd\">extends</span> <span class=\"n\">StatelessWidget</span> <span class=\"o\">{</span>\n\n  <span class=\"nd\">@override</span>\n  <span class=\"n\">Widget</span> <span class=\"n\">build</span><span class=\"o\">(</span><span class=\"n\">BuildContext</span> <span class=\"n\">context</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"k\">return</span> <span class=\"n\">MaterialApp</span><span class=\"o\">(</span>\n      <span class=\"nl\">navigatorKey:</span> <span class=\"n\">Catcher</span><span class=\"o\">.</span><span class=\"na\">navigatorKey</span><span class=\"o\">,</span> <span class=\"c1\">// &lt;---------</span>\n      <span class=\"nl\">home:</span> <span class=\"n\">RootPage</span><span class=\"o\">(),</span>\n    <span class=\"o\">);</span>\n  <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n</code></pre></div>\n\n\n\n<p>And that's it!</p>\n\n<p>Catcher will catch all the unhandled exceptions in the application from now on. You can view the exceptions in the sentry dashboard.</p>\n\n","url":"https://dev.to/ctrleffive/catch-exceptions-in-flutter-with-catcher-sentry-cpn","cover_image":"https://res.cloudinary.com/practicaldev/image/fetch/s--YO1nuop0--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/i/d2hcbf548712atnq849l.png"}}},"pageContext":{"slug":"catch-exceptions-in-flutter-with-catcher-sentry-cpn"}},"staticQueryHashes":["1617812919"]}